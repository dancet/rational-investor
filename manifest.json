// TODO
/*

- Pick a name that makes sense (broker agnostic)
- Create an icon
- Create a basic HTML file in popup.html with some basic info
- Build an actual extension and try installing it
- Do we need the permissions array in manifest.json?
- Publish?

*/

{
  "manifest_version": 2,
 
  "name": "SelfWealth - Don't Panic!",
  "description": "Will you keep a cool head during the next crash? You say you're investing for the long term, but will you keep buying through thick and thin? The SelfWealth - Don't Panic! extension hides performance graphs, portfolio totals and other page elements to help you manage your emotions while investing. You can still buy shares as normal with this extension, it just hides all the temptations. Note, this is not an official SelfWealth extension.",
  "version": "0.1.0",
 
  "browser_action": {
    "default_popup": "popup.html" 
  },
  "permissions": [
    "activeTab",
    "https://secure.selfwealth.com.au/"
  ],

  "content_scripts": [
    // all pages
    {
      "matches": ["https://secure.selfwealth.com.au/*"],
      "js": ["jquery-3.4.1.min.js", "utils.js", "menu.js"],
      "run_at": "document_start"
    },
    // menu2 (to handle title properties that need to run on document_idle)
    {
      "matches": ["https://secure.selfwealth.com.au/*"],
      "js": ["menu2.js"],
      "run_at": "document_idle"
    },
    // dashboard
    {
      "matches": [
        "https://secure.selfwealth.com.au/", 
        "https://secure.selfwealth.com.au/?_ga*", 
        "https://secure.selfwealth.com.au/1", 
        "https://secure.selfwealth.com.au/2", 
        "https://secure.selfwealth.com.au/3",
        "https://secure.selfwealth.com.au/4"
      ],
      "js": ["dashboard.js"],
      "run_at": "document_start"
    },
    // portfolio
    {
      "matches": [
        "https://secure.selfwealth.com.au/Portfolio",
        "https://secure.selfwealth.com.au/1/Portfolio",
        "https://secure.selfwealth.com.au/2/Portfolio",
        "https://secure.selfwealth.com.au/3/Portfolio",
        "https://secure.selfwealth.com.au/4/Portfolio"
      ],
      "js": ["portfolio.js"],
      "run_at": "document_start"
    },
    // place orders
    {
      "matches": [
        "https://secure.selfwealth.com.au/Trading/Place",
        "https://secure.selfwealth.com.au/1/Trading/Place",
        "https://secure.selfwealth.com.au/2/Trading/Place",
        "https://secure.selfwealth.com.au/3/Trading/Place",
        "https://secure.selfwealth.com.au/4/Trading/Place"
      ],
      "js": ["place-orders.js"],
      "run_at": "document_idle"
    },
    // settings
    {
      "matches": ["https://secure.selfwealth.com.au/Settings"],
      "js": ["settings.js"],
      "run_at": "document_idle"
    }    
  ]
}
